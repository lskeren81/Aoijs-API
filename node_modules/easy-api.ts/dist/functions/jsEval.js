"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.data=void 0;const builder_1=require("../classes/builder"),utils_1=require("../classes/utils"),util_1=require("util");exports.data={data:(new builder_1.FunctionBuilder).setName("jsEval").setValue("description","Eval a js code.").setValue("use","$jsEval[return(true/false);code]").setValue("returns","Any"),code:async d=>{await d.func?.resolve_fields(d);const util=utils_1.Utils;if(!d.func?.inside)return utils_1.Utils.Warn("Invalid inside provided in:",d.func?.name);let returns=utils_1.Utils.booleanify(d.func.fields.map(({value:e})=>e)[0]);if(d.func.fields.length<2)return utils_1.Utils.Warn("Invalid fields provided in:",d.func.name);let result;try{result=await eval(d.func.fields.map(({value:e})=>e).slice(1).join(";").unescape())}catch(e){return utils_1.Utils.Warn(`Unexpected error: ${e} in:`,d.func.name)}return result=returns?"object"==typeof result?(0,util_1.inspect)(result,{depth:0}):result?.toString()||"undefined":"",{code:d.code.replace(d.func.id,result)}}};